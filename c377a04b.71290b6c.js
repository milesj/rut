(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{71:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var r=n(2),a=n(6),o=(n(0),n(78)),i={title:"Introduction",slug:"/"},c={unversionedId:"index",id:"index",isDocsHomePage:!1,title:"Introduction",description:"Rut is a DOM-less React testing library that aims to be lightweight, encourage great testing",source:"@site/docs/index.md",slug:"/",permalink:"/docs/",editUrl:"https://github.com/milesj/rut/edit/master/website/docs/index.md",version:"current",sidebar:"docs",next:{title:"Setup",permalink:"/docs/setup"}},l=[{value:"Features",id:"features",children:[]},{value:"Best practices",id:"best-practices",children:[]},{value:"Supported",id:"supported",children:[]},{value:"Not supported",id:"not-supported",children:[]},{value:"What&#39;s next?",id:"whats-next",children:[]}],s={rightToc:l};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Rut is a DOM-less React testing library that aims to be lightweight, encourage great testing\npractices, and reduce flakiness and code smells. It is a wrapper and abstraction around\n",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://reactjs.org/docs/test-renderer.html"}),"react-test-renderer")," that simplifies the test writing\nprocess, while doing all the hard work behind the scenes."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx"}),"import { render } from 'rut-dom';\nimport Input, { InputProps } from '../src/Input';\n\ndescribe('<Input />', () => {\n  it('renders an input field', () => {\n    const { root, update } = render<InputProps>(<Input name=\"rut\" value=\"foo\" />);\n\n    expect(root).toHaveProp('name', 'rut');\n    expect(root).toHaveValue('foo');\n    expect(root).not.toBeDisabled();\n\n    update({ disabled: true });\n\n    expect(root).toBeDisabled();\n  });\n});\n")),Object(o.b)("h2",{id:"features"},"Features"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Type safe by design. Test with confidence."),Object(o.b)("li",{parentName:"ul"},"First-class async support. Wait for async calls to finish before returning a rendered result.\n",Object(o.b)("em",{parentName:"li"},"(Experimental)")),Object(o.b)("li",{parentName:"ul"},"Deep ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://reactjs.org/docs/testing-recipes.html#act"}),Object(o.b)("inlineCode",{parentName:"a"},"act()"))," integration. Let Rut do the\nheavy lifting."),Object(o.b)("li",{parentName:"ul"},"Update a component with new props, children, or a completely new element."),Object(o.b)("li",{parentName:"ul"},"Unmount a component to verify cleanup and destructor based logic."),Object(o.b)("li",{parentName:"ul"},"Dispatch DOM level events with a mocked synthetic event (and propagation coming soon!)."),Object(o.b)("li",{parentName:"ul"},"Wrap all renders with a defined wrapping component and or ",Object(o.b)("inlineCode",{parentName:"li"},"React.StrictMode"),"."),Object(o.b)("li",{parentName:"ul"},"Apply pre-built mocks for robust and accurate testing."),Object(o.b)("li",{parentName:"ul"},"Utilize an array of pre-built matchers for easily querying, expecting, and asserting.")),Object(o.b)("h2",{id:"best-practices"},"Best practices"),Object(o.b)("p",null,"Encourages the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"http://wiki.c2.com/?ArrangeActAssert"}),"Arrange-Act-Assert")," testing pattern."),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Arrange:")," Renders the entire component tree (instead of shallow) for a more accurate representation\nof your component. Requires fetches, events, contexts, and more, to be properly mocked or setup\nbefore hand."),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Act:")," With no direct access to state or internals, it forces you to interact with your tree in the\nsame manner your user would. Dispatch events to toggle states or execute handlers, like a form\nsubmission."),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Assert:")," Test your expectations using pre-built matchers for common testing scenarios and patterns\nwhile avoiding implementation details."),Object(o.b)("h2",{id:"supported"},"Supported"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Class, function, pure, and ",Object(o.b)("inlineCode",{parentName:"li"},"React.memo()")," components (of course)."),Object(o.b)("li",{parentName:"ul"},"Life-cycle phases, including mount, update, and unmount."),Object(o.b)("li",{parentName:"ul"},"Function children, render props, and other factory patterns."),Object(o.b)("li",{parentName:"ul"},"Higher-order components (HOCs) and all forms of composition."),Object(o.b)("li",{parentName:"ul"},"Hooks: ",Object(o.b)("inlineCode",{parentName:"li"},"useState()"),", ",Object(o.b)("inlineCode",{parentName:"li"},"useRef()"),", ",Object(o.b)("inlineCode",{parentName:"li"},"useEffect()"),", and all other built-in hooks!"),Object(o.b)("li",{parentName:"ul"},"Context: ",Object(o.b)("inlineCode",{parentName:"li"},"React.createContext()"),", ",Object(o.b)("inlineCode",{parentName:"li"},"useContext"),", ",Object(o.b)("inlineCode",{parentName:"li"},"contextType"),", and even legacy."),Object(o.b)("li",{parentName:"ul"},"Refs: ",Object(o.b)("inlineCode",{parentName:"li"},"React.createRef()"),", ",Object(o.b)("inlineCode",{parentName:"li"},"React.forwardRef()"),", callback refs, and string refs."),Object(o.b)("li",{parentName:"ul"},"Portals: Even ",Object(o.b)("inlineCode",{parentName:"li"},"ReactDOM.createPortal()")," (we patch over ",Object(o.b)("inlineCode",{parentName:"li"},"react-dom"),")!"),Object(o.b)("li",{parentName:"ul"},"Error boundaries, fragments, strict mode, and more!")),Object(o.b)("h2",{id:"not-supported"},"Not supported"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/facebook/react/issues/14170"}),Object(o.b)("inlineCode",{parentName:"a"},"React.lazy(), React.Suspense"))," - Currently not\nsupported by ",Object(o.b)("inlineCode",{parentName:"li"},"react-test-renderer"),".")),Object(o.b)("h2",{id:"whats-next"},"What's next?"),Object(o.b)("p",null,"Does all the above sound great to you? Perfect!"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/setup"}),"Setup and integrate Rut")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/api/render#render"}),"Learn about rendering components")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/matchers"}),"Become a pro by using matchers"))))}p.isMDXComponent=!0},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),p=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=p(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=p(n),d=r,m=b["".concat(i,".").concat(d)]||b[d]||u[d]||o;return n?a.a.createElement(m,c(c({ref:t},s),{},{components:n})):a.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);